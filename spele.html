<!DOCTYPE html>
<html>
<head>
  <title>Latvia Regions Map - SVG Overlay</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    html, body {
      height: 100%;
      margin: 0;
    }
    #map {
      height: 100vh;
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // Define dimensions for the SVG map image
    const imageWidth = 1220;
    const imageHeight = 720;

    // Initialize the map with simple CRS and zoom limits
    var map = L.map('map', {
      crs: L.CRS.Simple,
      minZoom: -1,
      maxZoom: 1
    });

    // Define map bounds (top-left and bottom-right) corresponding to image size
    var bounds = [[0, 0], [imageHeight, imageWidth]];

    // Add the SVG overlay as the map background
    // Option 1: Use imageOverlay for SVG (renders it like an image)
    L.imageOverlay('Historical_regions_of_Latvia.svg', bounds).addTo(map);

    // Option 2: Use SVGOverlay for interactive SVG (requires fetch and DOM parsing)
    /*
    fetch('Historical_regions_of_Latvia.svg')
      .then(response => response.text())
      .then(svgText => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(svgText, "image/svg+xml");
        const svgElement = doc.querySelector('svg');
        // Add the SVG element as an overlay with specified bounds
        L.svgOverlay(svgElement, bounds, {interactive: false}).addTo(map);
      });
    */

    // Fit map to the bounds of the SVG/image
    map.fitBounds(bounds);

    // Coordinates for region points (adjusted for new SVG scale)
    const regions = [
      { coords: [346, 558] },  // RÄ«ga (capital)
      { coords: [369, 218] },  // Kurzeme
      { coords: [493, 1020] }, // Latgale
      { coords: [276, 757] },  // Vidzeme
      { coords: [476, 496] }   // Zemgale
    ];

    // Add markers for each region
    regions.forEach(region => {
      L.circleMarker(region.coords, {
        radius: 8,
        fillColor: "red",
        color: "#fff",
        weight: 1,
        opacity: 1,
        fillOpacity: 0.9
      }).addTo(map);
    });
  </script>
</body>
</html>
